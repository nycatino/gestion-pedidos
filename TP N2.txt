Consigna de desarrollo: Sistema de gestión de pedidos en una tienda en línea
    Recepción del pedido
    Verificación de disponibilidad
    Procesamiento de pago
    Preparación del pedido
    Envío y seguimiento

Primer entrega: 
Objetivo general
    Desarrollar un sistema modular que gestione el ciclo completo de un pedido online desde la recepción hasta el envío y seguimiento, permitiendo ejecución independiente de cada módulo y simulación de la base de datos y del pago.

Objetivos específicos por módulo
    Recepción del pedido: recibir entrada (JSON), validar formato mínimo y encolar el pedido para el siguiente paso.

    Verificación de disponibilidad: chequear stock para cada SKU, reservar stock temporalmente o indicar faltantes.

    Procesamiento de pago: validar método de pago, simular autorización y marcar pago como aprobado/rechazado.

    Preparación del pedido: generar picking list, asignar empaquetado y marcar como listo para envío.

    Envío y seguimiento: generar etiqueta/envío simulado, asignar número de seguimiento y permitir consultar estado.

Recepción del pedido
Algoritmo
1. Recibir entrada 

Verificación de disponibilidad

Procesamiento de pago

Preparación del pedido

Algoritmo
1. Verificar precondiciones
2. Generar picking_list.
3. Estimar tiempo de preparación
4. Actualizar pedido
5. Retornar pedido.prepacion

Nivel 1
1. 1 Hallar pedido
1. 2 Verificar verificacion y estado 
2. 1 Generar picking list
3. 1 Estimar tiempo de preparación
4. 1 Actualizar pedido.preparacion
4. 2 Actualizar pedido.estado
4. 3 Actualizar pedido
5. 1 Retornar pedido.preparacion

Nivel 2
1.1.1 Hallar pedido
1.2.1 Si verificar verficacion.status != OK o pedido.estado != PAGO_APROBADO
    1.2.2 Retornar ERROR
2.1.1 Declarar array picking_list
2.1.2 Por cada item del pedido
    2.1.3 Obtener ubicacion de item
    2.1.4 Agregar al picking_list
    3.1.1 Acumular tiempo estimado
3.1.2 Acumular tiempo estimado empaquetado
4.1.1 Actualizar pedido.preparacion
4.2.1 Actualizar pedido.estado
4.3.1 Actualizar pedido
5.1.1 Retornar pedido.preparacion 

Pseudocódigo (preparacion)
FUNCTION preparar_pedido(pedido_id):
1.1.1    pedido = db_simulator.obtener_pedido(pedido_id)
1.2.1    IF pedido.verificacion.status != 'OK' OR pedido.estado != 'PAGO_APROBADO':
1.2.2        RETURN ERROR "Precondiciones no cumplidas"

2.1.1    picking_list = []
???      tiempo_total = 0
2.1.2    FOR item IN pedido.items:
2.1.3        ubicacion = db_simulator.obtener_ubicacion_sku(item.sku)
2.1.4        picking_list.append({'sku': item.sku, 'cantidad': item.cantidad, 'ubicacion': ubicacion})
3.1.1        tiempo_total += 2 * item.cantidad  # minutos por unidad
3.1.2    tiempo_total += 5  # empaquetado
4.1.1    pedido.preparacion = {'status':'LISTO_PARA_ENVIO','picking_list':picking_list,'tiempo_estimado_min':tiempo_total}
4.2.1    pedido.estado = 'LISTO_PARA_ENVIO'
4.3.1    db_simulator.actualizar_pedido(pedido)
5.1.1    RETURN pedido.preparacion
